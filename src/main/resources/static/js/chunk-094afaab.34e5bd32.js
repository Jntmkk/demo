(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-094afaab"],{"0a49":function(t,e,n){var r=n("9b43"),a=n("626a"),i=n("4bf8"),o=n("9def"),l=n("cd1c");t.exports=function(t,e){var n=1==t,s=2==t,c=3==t,u=4==t,d=6==t,f=5==t||d,p=e||l;return function(e,l,v){for(var g,b,h=i(e),m=a(h),_=r(l,v,3),w=o(m.length),y=0,k=n?p(e,w):s?p(e,0):void 0;w>y;y++)if((f||y in m)&&(g=m[y],b=_(g,y,h),t))if(n)k[y]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return y;case 2:k.push(g)}else if(u)return!1;return d?-1:c||u?u:k}}},1169:function(t,e,n){var r=n("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"4bac":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"序号",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(parseInt(e.row.id))+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{"header-align":"center",align:"left",width:"320",label:"标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{overflow:"hidden","white-space":"nowrap","text-overflow-ellipsis":"true"}},[t._v("\n          "+t._s(e.row.title)+"\n        ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"类别","header-align":"center",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("taskTypeFilter")(e.row.taskType))+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"奖励","header-align":"center",align:"center","mini-width":"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.reward)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"荣誉要求","header-align":"center",align:"center","mini-width":"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.minReputation)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"人数限制","header-align":"center",align:"center","mini-width":"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.currentWorkerNum)+"/"+t._s(e.row.maxWorkerNum)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"截止时间","header-align":"center",align:"center","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("timeFilter")(e.row.deadline))+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"任务状态","header-align":"center",align:"center","mini-width":"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{round:"",type:t._f("taskStatusFilter")(e.row.status)}},[t._v("\n          "+t._s(e.row.status)+"\n        ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{width:"40%"},attrs:{type:"info",disabled:e.row.maxWorkerNum-e.row.currentWorkerNum<=0||t.isReceived(e.row)},on:{click:function(n){return t.receive(e.row)}}},[t._v("\n          "+t._s(t.getControlText(e.row))),n("i",{staticClass:"el-icon-arrow-right"})])]}}])})],1),t._v(" "),n("el-row",{staticStyle:{"margin-left":"80px","margin-top":"8px"},attrs:{gutter:1}},[n("el-col",{attrs:{span:2,offset:16}},[n("el-button",{attrs:{type:"primary",round:"",disabled:t.tableControl.isFirst},on:{click:t.lastPage}},[t._v("上一页")])],1),t._v(" "),n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"primary",round:""},on:{click:t.nextPage}},[t._v("下一页")])],1),t._v(" "),n("el-col",{attrs:{span:3}},[n("el-input",{attrs:{type:"number"},model:{value:t.tableControl.goto,callback:function(e){t.$set(t.tableControl,"goto",e)},expression:"tableControl.goto"}},[n("el-button",{attrs:{slot:"append",round:"",type:"primary"},on:{click:t.gotoPage},slot:"append"},[t._v("跳转")])],1)],1)],1)],1)},a=[],i=(n("7514"),n("ad8f")),o=n("c24f"),l={name:"TaskTable",filters:{taskStatusNameFilter:function(t){var e=["PENDING","UNACCEPTED","ACCEPTED","EVALUATING","COMPLETED"];return e[t]},taskTypeFilter:function(t){var e=["物联网测试","物联网设备邮寄"];return e[t]},taskStatusFilter:function(t){var e={PENDING:"primary",UNACCEPTED:"success",ACCEPTED:"info",EVALUATING:"danger",COMPLETED:"warning"};return e[t]},reputationFilter:function(t){return"success"},timeFilter:function(t){return new Date(t)}},data:function(){return{aList:[],dialog:{dialogVisible:!1,isDone:!1},tableControl:{goto:1,isFirst:!0},list:null,listLoading:!0}},created:function(){this.fetchData()},methods:{isReceived:function(t){return!(void 0===this.aList.find((function(e){return e.id===t.id})))},getControlText:function(t){return this.isReceived(t)?"已接收":"接收"},fetchData:function(){var t=this;this.listLoading=!0,Object(i["a"])({type:"received"}).then((function(e){t.aList=e.data,t.listLoading=!1})),Object(i["a"])({isall:!0}).then((function(e){t.list=e.data}))},nextPage:function(){this.fetchData()},gotoPage:function(){},lastPage:function(){},statusMap:function(t){var e={delivery:"primary",accepted:"info",finished:"success",canceled:"warn"};return e[t]},repRequiredMap:function(t){return t.numLimit-t.selectedNum>0},receive:function(t){var e=this;Object(o["a"])({taskId:t.id,deposit:3e5}).then((function(t){e.$message({showClose:!0,message:t.msg,type:"success"})}))}}},s=l,c=n("2877"),u=Object(c["a"])(s,r,a,!1,null,"7870c476",null);e["default"]=u.exports},7514:function(t,e,n){"use strict";var r=n("5ca1"),a=n("0a49")(5),i="find",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(i)},ad8f:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var r=n("b775");function a(t){return Object(r["a"])({url:"/api/task",method:"get",params:t})}function i(t){return Object(r["a"])({url:"/api/task",method:"post",data:t})}},cd1c:function(t,e,n){var r=n("e853");t.exports=function(t,e){return new(r(t))(e)}},e853:function(t,e,n){var r=n("d3f4"),a=n("1169"),i=n("2b4c")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),r(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}}}]);