(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02aecddf"],{"0a49":function(t,e,r){var a=r("9b43"),i=r("626a"),n=r("4bf8"),o=r("9def"),l=r("cd1c");t.exports=function(t,e){var r=1==t,s=2==t,c=3==t,u=4==t,f=6==t,d=5==t||f,v=e||l;return function(e,l,p){for(var m,g,y=n(e),_=i(y),h=a(l,p,3),b=o(_.length),k=0,w=r?v(e,b):s?v(e,0):void 0;b>k;k++)if((d||k in _)&&(m=_[k],g=h(m,k,y),t))if(r)w[k]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return k;case 2:w.push(m)}else if(u)return!1;return f?-1:c||u?u:w}}},1169:function(t,e,r){var a=r("2d95");t.exports=Array.isArray||function(t){return"Array"==a(t)}},7514:function(t,e,r){"use strict";var a=r("5ca1"),i=r("0a49")(5),n="find",o=!0;n in[]&&Array(1)[n]((function(){o=!1})),a(a.P+a.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(n)},9937:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{margin:"15px 30px"}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-tag",[t._v("选择待处理任务:")]),t._v(" "),r("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){return t.getValue(t.title)}},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}},t._l(t.workList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.title,value:t.title}})})),1)],1),t._v(" "),0===t.value.taskType?[r("el-col",{attrs:{span:"6"}},[r("el-tag",[r("label",[t._v("类别:")])]),t._v(" "),r("el-tag",{attrs:{type:"primary"}},[t._v(t._s(t._f("taskTypeFilter")(t.value.taskType)))])],1),t._v(" "),r("el-col",{attrs:{span:"6"}},[r("el-tag",[r("label",[t._v("平台:")])]),t._v(" "),r("el-tag",{attrs:{type:"primary"}},[t._v(t._s(t.value.platform))])],1),t._v(" "),r("el-col",{attrs:{span:"6"}},[r("el-tag",[r("label",[t._v("设备ID:")])]),t._v(" "),r("el-tag",{attrs:{type:"primary"}},[t._v(t._s(t.value.deviceId))])],1)]:t._e()],2),t._v(" "),r("div",{staticClass:"main-container",staticStyle:{margin:"30px 0px"}},[0===t.value.taskType?r("div",[r("el-row",{staticStyle:{margin:"5px 0px"}},[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[r("el-tag",[t._v("测试")])],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[r("el-tag",[t._v("日志")])],1),t._v(" "),r("el-input",{attrs:{type:"textarea",disabled:"true",rows:"10"},model:{value:t.form.log,callback:function(e){t.$set(t.form,"log",e)},expression:"form.log"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-card",{staticStyle:{margin:"0px 5px"}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("el-tag",[t._v("控制")])],1),t._v(" "),r("el-input",{attrs:{type:"textarea",rows:"7"},model:{value:t.form.cmd,callback:function(e){t.$set(t.form,"cmd",e)},expression:"form.cmd"}}),t._v(" "),r("el-button",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{type:"primary"},on:{click:t.send_command}},[t._v("发送指令")])],1)],1)],1)],1)],1):t._e()]),t._v(" "),r("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("span",[t._v("智能硬件检测中...")]),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},i=[],n=(r("7514"),r("ad8f")),o=r("c24f"),l={name:"WorkingPage",data:function(){return{dialogVisible:!1,fileList:[],form:{requestType:"",params:"",log:"",deviceType:"",ledKey:"",ledValue:"",iotPlatform:"",cmd:"GPIO.output(17,GPIO.HIGH)\nGPIO.output(27,GPIO.HIGH)"},title:"",workList:[],value:""}},filters:{taskStatusNameFilter:function(t){var e=["PENDING","UNACCEPTED","ACCEPTED","EVALUATING","COMPLETED"];return e[t]},taskTypeFilter:function(t){var e=["物联网测试","物联网设备邮寄"];return e[t]},taskStatusFilter:function(t){var e={PENDING:"primary",UNACCEPTED:"success",ACCEPTED:"info",EVALUATING:"danger",COMPLETED:"warning"};return e[t]},reputationFilter:function(t){return"success"},timeFilter:function(t){return new Date(t)}},watch:{},methods:{send_command:function(){var t=this;this.dialogVisible=!0,Object(o["h"])({deviceId:"601093847",cmd:this.form.cmd,apiKey:"4ooXCWYrQGFybSMhCs3xDiZeW8I="}).then((function(e){console.log(JSON.stringify(e)),t.form.log=t.form.log+JSON.stringify(e),setTimeout((function(){return t.dialogVisible=!1}),1500)}))},fetchList:function(){var t=this;Object(n["a"])({type:"received"}).then((function(e){t.workList=e.data}))},getValue:function(t){this.value=this.workList.find((function(e){if(console.log(e.title),e.title===t)return!0}))}},created:function(){this.fetchList()}},s=l,c=r("2877"),u=Object(c["a"])(s,a,i,!1,null,"70b42c4c",null);e["default"]=u.exports},ad8f:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return n}));var a=r("b775");function i(t){return Object(a["a"])({url:"/api/task",method:"get",params:t})}function n(t){return Object(a["a"])({url:"/api/task",method:"post",data:t})}},cd1c:function(t,e,r){var a=r("e853");t.exports=function(t,e){return new(a(t))(e)}},e853:function(t,e,r){var a=r("d3f4"),i=r("1169"),n=r("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),a(e)&&(e=e[n],null===e&&(e=void 0))),void 0===e?Array:e}}}]);