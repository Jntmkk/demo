(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5314fcf5"],{"0a49":function(e,t,o){var r=o("9b43"),a=o("626a"),n=o("4bf8"),s=o("9def"),l=o("cd1c");e.exports=function(e,t){var o=1==e,i=2==e,c=3==e,u=4==e,f=6==e,d=5==e||f,p=t||l;return function(t,l,m){for(var b,v,g=n(t),h=a(g),_=r(l,m,3),y=s(h.length),k=0,T=o?p(t,y):i?p(t,0):void 0;y>k;k++)if((d||k in h)&&(b=h[k],v=_(b,k,g),e))if(o)T[k]=v;else if(v)switch(e){case 3:return!0;case 5:return b;case 6:return k;case 2:T.push(b)}else if(u)return!1;return f?-1:c||u?u:T}}},1169:function(e,t,o){var r=o("2d95");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"59cf":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("p",{staticClass:"content-title"},[e._v("评估")]),e._v(" "),o("el-form",{ref:"ruleForm",attrs:{model:e.form,"label-width":"80px",rules:e.rules}},[o("el-row",[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"任务操作",prop:"category"}},[o("el-select",{attrs:{placeholder:"请选择操作"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},[o("el-option",{attrs:{label:"评价",value:"access"}})],1)],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"选择任务",prop:"belongsToTaskId"}},[o("el-select",{attrs:{placeholder:"请选择"},on:{change:e.updateReportList},model:{value:e.form.belongsToTaskId,callback:function(t){e.$set(e.form,"belongsToTaskId",t)},expression:"form.belongsToTaskId"}},e._l(e.taskList,(function(e){return o("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"选择报告",prop:"belongsToReportId"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.reportId,callback:function(t){e.$set(e.form,"reportId",t)},expression:"form.reportId"}},e._l(e.reportList,(function(e){return o("el-option",{key:e.belongsToTask,attrs:{label:e.solution,value:e.id}})})),1)],1)],1)],1),e._v(" "),"appeal"===e.form.category?o("el-form-item",{attrs:{label:"申诉理由",prop:"appealDesc"}},[o("el-input",{attrs:{type:"textarea",placeholder:"请输入您的申诉理由"},model:{value:e.form.comments,callback:function(t){e.$set(e.form,"comments",t)},expression:"form.comments"}})],1):e._e(),e._v(" "),"access"===e.form.category?[o("el-form-item",{attrs:{label:"评分"}},[o("el-rate",{staticStyle:{"margin-top":"8px"},attrs:{colors:["#99A9BF","#F7BA2A","#FF9900"],max:10},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}}),e._v(" "),o("span",[e._v("奖励金额=（奖金/工作者总数）*（评分/10）")])],1),e._v(" "),o("el-form-item",{attrs:{label:"评价",prop:"accessDesc"}},[o("el-input",{attrs:{type:"textarea",placeholder:"请输入您的评价"},model:{value:e.form.accessDesc,callback:function(t){e.$set(e.form,"accessDesc",t)},expression:"form.accessDesc"}})],1)]:e._e(),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("立即提交")]),e._v(" "),o("el-button",[e._v("取消")])],1)],2),e._v(" "),o("el-dialog",{attrs:{title:"提示",visible:e.dialog.dialogVisible,width:"30%"},on:{"update:visible":function(t){return e.$set(e.dialog,"dialogVisible",t)}}},[o("span",[e._v(e._s(e.dialog.tips))]),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"}),e._v(" "),o("el-button",{attrs:{disabled:e.dialog.isDone},on:{click:function(t){e.dialog.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary",disabled:!e.dialog.isDone},on:{click:function(t){e.dialog.dialogVisible=!1}}},[e._v("确 定")])],1)],1)},a=[],n=(o("7514"),o("9039")),s=o("ad8f"),l=o("c24f"),i=o("5c96"),c={name:"Assessment",components:{Dialog:n["a"]},data:function(){return{dialog:{tips:"智能硬件检测中，请稍等...",dialogVisible:!1,isDone:!1},ruleForm:{name:"",appealDesc:"",accessDesc:"",category:"",score:""},rules:{belongsToTask:[{required:!0,message:"请选择评估任务"}],belongToReport:[{required:!0,message:"请选择要评估的报告"}],level:[{required:!0,message:"请输入评价"}],type:[{required:!0,message:"请输入理由"}],comments:[{required:!0,message:"该项不能为空"}]},value:"",form:{category:null,belongsToTaskId:null,belongsToReportId:null,level:null,comments:"",reportId:null},reportList:[],taskList:[]}},created:function(){this.fetchList()},methods:{upDateReportId:function(e){this.form.reportId=this.reportList.find((function(t){return t.belongsToTask===e})).id},updateReportList:function(e){var t=this;Object(l["e"])({taskId:e}).then((function(e){t.reportList=e.data}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.dialog.dialogVisible=!0,Object(l["k"])(t.form).then((function(e){Object(i["Message"])({message:e.msg,type:"info",duration:3e3})})),t.dialog.dialogVisible=!1}))},fetchList:function(){var e=this;Object(s["a"])({type:"post"}).then((function(t){e.taskList=t.data.filter((function(e){return e.currentWorkerNum>0}))}))}}},u=c,f=(o("63a6"),o("2877")),d=Object(f["a"])(u,r,a,!1,null,"f8d5399e",null);t["default"]=d.exports},"63a6":function(e,t,o){"use strict";var r=o("d8f2"),a=o.n(r);a.a},7514:function(e,t,o){"use strict";var r=o("5ca1"),a=o("0a49")(5),n="find",s=!0;n in[]&&Array(1)[n]((function(){s=!1})),r(r.P+r.F*s,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o("9c6c")(n)},9039:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("span",[e._v("这是一段信息")]),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)])},a=[],n={name:"Dialog",props:{dialogVisible:{type:Boolean,required:!0,default:!1},isDone:{type:Boolean,required:!0,default:!1}},data:function(){return{title:"",dialogVisible:!1}},methods:{handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))}}},s=n,l=o("2877"),i=Object(l["a"])(s,r,a,!1,null,"0a9cbeaa",null);t["a"]=i.exports},ad8f:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return n}));var r=o("b775");function a(e){return Object(r["a"])({url:"/api/task",method:"get",params:e})}function n(e){return Object(r["a"])({url:"/api/task",method:"post",data:e})}},cd1c:function(e,t,o){var r=o("e853");e.exports=function(e,t){return new(r(e))(t)}},d8f2:function(e,t,o){},e853:function(e,t,o){var r=o("d3f4"),a=o("1169"),n=o("2b4c")("species");e.exports=function(e){var t;return a(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)||(t=void 0),r(t)&&(t=t[n],null===t&&(t=void 0))),void 0===t?Array:t}}}]);