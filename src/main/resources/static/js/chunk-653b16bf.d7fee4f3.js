(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-653b16bf"],{"00b5":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("p",{staticClass:"content-title"},[e._v("发布任务")]),e._v(" "),o("el-form",{ref:"ruleForm",attrs:{model:e.form,"label-width":"80px",rules:e.rules}},[o("el-form-item",{attrs:{label:"任务名称",prop:"title"}},[o("el-input",{staticClass:"half-container",model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"任务类别",prop:"taskType"}},[o("el-select",{attrs:{placeholder:"请选择任务类别"},on:{changne:e.change},model:{value:e.form.taskType,callback:function(t){e.$set(e.form,"taskType",t)},expression:"form.taskType"}},[o("el-option",{attrs:{label:"物联网测试",value:0}}),e._v(" "),o("el-option",{attrs:{label:"物联网设备邮寄",value:1}})],1)],1)],1),e._v(" "),0===e.form.taskType?[o("el-col",{attrs:{span:"6"}},[o("el-form-item",{attrs:{label:"平台"}},[o("el-select",{model:{value:e.form.platform,callback:function(t){e.$set(e.form,"platform",t)},expression:"form.platform"}},[o("el-option",{attrs:{label:"OneNet",value:"OneNet"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"设备ID",prop:"deviceId"}},[o("el-input",{model:{value:e.form.deviceId,callback:function(t){e.$set(e.form,"deviceId",t)},expression:"form.deviceId"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"Token",prop:"deviceToken"}},[o("el-input",{model:{value:e.form.deviceToken,callback:function(t){e.$set(e.form,"deviceToken",t)},expression:"form.deviceToken"}})],1)],1)]:e._e()],2),e._v(" "),o("el-form-item",{attrs:{label:"截止日期",prop:"deadline"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions,"value-format":"timestamp"},model:{value:e.form.deadline,callback:function(t){e.$set(e.form,"deadline",t)},expression:"form.deadline"}})],1),e._v(" "),o("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[o("el-col",{attrs:{span:"12"}},[o("el-form-item",{staticClass:"half-container",attrs:{label:"押金",prop:"deposit"}},[o("el-input",{model:{value:e.form.deposit,callback:function(t){e.$set(e.form,"deposit",e._n(t))},expression:"form.deposit"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:"12"}},[o("el-form-item",{staticClass:"half-container",attrs:{label:"接收数量",prop:"maxWorkerNum"}},[o("el-input",{model:{value:e.form.maxWorkerNum,callback:function(t){e.$set(e.form,"maxWorkerNum",e._n(t))},expression:"form.maxWorkerNum"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:"12"}},[o("el-form-item",{staticClass:"half-container",attrs:{label:"奖励",prop:"reward"}},[o("el-input",{model:{value:e.form.reward,callback:function(t){e.$set(e.form,"reward",e._n(t))},expression:"form.reward"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:"12"}},[o("el-form-item",{staticClass:"half-container",attrs:{label:"最低信誉",prop:"minReputation"}},[o("el-input",{model:{value:e.form.minReputation,callback:function(t){e.$set(e.form,"minReputation",e._n(t))},expression:"form.minReputation"}})],1)],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"任务描述",prop:"description"}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"附件地址",prop:"pointer"}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.form.pointer,callback:function(t){e.$set(e.form,"pointer",t)},expression:"form.pointer"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("立即创建")]),e._v(" "),o("el-button",[e._v("取消")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"提示",visible:e.dialog.dialogVisible,width:"30%"},on:{"update:visible":function(t){return e.$set(e.dialog,"dialogVisible",t)}}},[o("span",[e._v(e._s(e.dialog.tips))]),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"}),e._v(" "),o("el-button",{attrs:{disabled:e.dialog.isDone},on:{click:function(t){e.dialog.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary",disabled:!e.dialog.isDone},on:{click:function(t){e.dialog.dialogVisible=!1}}},[e._v("确 定")])],1)],1)},i=[],l=o("bd86"),r=o("9039"),n=o("ad8f"),s=o("5c96"),c={name:"index",components:{Dialog:r["a"]},data:function(){var e;return{dialog:{tips:"正在提交，请稍后...",dialogVisible:!1,isDone:!1},ruleForm:{rep:"",deposit:"",reward:"",num:""},rules:{deposit:[{required:!0,message:"请输入数字"},{type:"number",message:"必须为数字"}],reward:[{required:!0,message:"请输入数字"},{type:"number",message:"必须为数字"}],maxWorkerNum:[{required:!0,message:"请输入数字"},{type:"number",message:"必须为数字"}],minReputation:[{required:!0,message:"请输入数字"},{type:"number",message:"必须为数字"}],title:[{required:!0,message:"请输入任务名称"}],taskType:[{required:!0,message:"请选择"}],description:[{required:!0,message:"请输入描述"}],deadline:[{required:!0,message:"请选择截止日期"}]},value2:"",pickerOptions:{shortcuts:[{text:"一天后",onClick:function(e){e.$emit("pick",(new Date).getTime()+864e5)}},{text:"一周后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}},{text:"一月后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+2592e6),e.$emit("pick",t)}}]},form:(e={pointer:"",title:"",reward:null,deposit:null,deadline:null,maxWorkerNum:null,minReputation:null,taskType:null,status:"UNACCEPTED"},Object(l["a"])(e,"pointer",""),Object(l["a"])(e,"description",""),Object(l["a"])(e,"currentWorkerNum",0),Object(l["a"])(e,"deviceId",""),Object(l["a"])(e,"deviceToken",""),Object(l["a"])(e,"platform",""),e)}},methods:{change:function(e){console.info(e)},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.dialog.dialogVisible=!0,Object(n["b"])(t.form).then((function(e){t.dialog.dialogVisible=!1,Object(s["Message"])({message:e.msg,type:"success",duration:5e3})}))}))}}},m=c,u=(o("d0df"),o("2877")),p=Object(u["a"])(m,a,i,!1,null,"76d1e9d6",null);t["default"]=p.exports},9039:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("span",[e._v("这是一段信息")]),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)])},i=[],l={name:"Dialog",props:{dialogVisible:{type:Boolean,required:!0,default:!1},isDone:{type:Boolean,required:!0,default:!1}},data:function(){return{title:"",dialogVisible:!1}},methods:{handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))}}},r=l,n=o("2877"),s=Object(n["a"])(r,a,i,!1,null,"0a9cbeaa",null);t["a"]=s.exports},ad8f:function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return l}));var a=o("b775");function i(e){return Object(a["a"])({url:"/api/task",method:"get",params:e})}function l(e){return Object(a["a"])({url:"/api/task",method:"post",data:e})}},c66b:function(e,t,o){},d0df:function(e,t,o){"use strict";var a=o("c66b"),i=o.n(a);i.a}}]);